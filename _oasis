OASISFormat:  0.4
OCamlVersion: >= 4.02.3
Name:         tiger
Version:      0.0.1
Synopsis:     Compiler for Tiger language from "Modern Compiler Implementation in ML"
Authors:      Tim McGilchrist <timmcgil@gmail.com>
License:      BSD-3-clause
Plugins:      META (0.4), DevFiles (0.4)
BuildTools:   ocamlbuild

Library tiger
  Path:            lib
  BuildDepends:    core_kernel (>= 0.9.0)
                 , menhirLib (>= 0.2.0)      
                 , smart_print (>= 0.2.0)
                 , ppx_sexp_conv
  Modules:         Lexer
                 , Symbol  
                 , Parser
                 , Syntax
                 , Location
                 , Error
                 , Env
                 , Semant
                 , Types
                 , Translate

Executable main
  Path:             main
  MainIs:           main.ml
  CompiledObject:   best
  Install:          false
  BuildDepends:     core_kernel 
                  , tiger
  BuildTools:       ocamlbuild

Executable test_parser
  Path:               test
  MainIs:             test_parser.ml
  Build$:             flag(tests)
  Custom:             true
  CompiledObject:     best
  Install:            false
  BuildDepends:       core_kernel
                    , tiger
                    , oUnit (>= 1.0.2)

Test test_parser
  Run$:               flag(tests)
  Command:            $test_parser
  WorkingDirectory:   test

Executable test_qc_parser
  Path:               test
  MainIs:             test_qc_parser.ml
  Build$:             flag(tests)
  Custom:             true
  CompiledObject:     best
  Install:            false
  BuildDepends:       core_kernel
                    , tiger
                    , qcheck

Test test_qc_parser
  Run$:               flag(tests)
  Command:            $test_qc_parser
  WorkingDirectory:   test
